<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Catálogo Fenari</title>
  <style>
    * { box-sizing: border-box; margin: 0; padding: 0; }
    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background-color: #f3f4f6;
      display: flex;
    }
    aside {
      width: 250px;
      background-color: #111827;
      color: white;
      padding: 1rem;
      height: 100vh;
    }
    aside h2 {
      font-size: 1.5rem;
      margin-bottom: 1rem;
    }
    .main {
      flex-grow: 1;
      padding: 1rem;
    }
    header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      flex-wrap: wrap;
      margin-bottom: 1rem;
    }
    .modo-btn {
      padding: 0.5rem 1rem;
      background: black;
      color: white;
      border: none;
      cursor: pointer;
      border-radius: 8px;
    }
    .filtro {
      margin-top: 1rem;
    }
    .filtro input {
      padding: 0.5rem;
      width: 100%;
      border: none;
      border-radius: 6px;
    }
    .produtos {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 1rem;
    }
    .produto {
      background: white;
      padding: 1rem;
      border-radius: 10px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
    }
    .produto img {
      width: 100%;
      border-radius: 8px;
    }
    .preco { font-weight: bold; margin: 0.5rem 0; }
    .btn-pedir, .finalizar {
      background: #25d366;
      color: white;
      padding: 0.5rem;
      border: none;
      border-radius: 5px;
      cursor: pointer;
      width: 100%;
      margin-top: 0.5rem;
    }
    .qtd-input {
      width: 60px;
      margin-left: 10px;
    }
    .carrinho, .pagamento {
      margin-top: 1rem;
      background: white;
      padding: 1rem;
      border-radius: 10px;
      box-shadow: 0 2px 6px rgba(0,0,0,0.1);
    }
  </style>
</head>
<body>
  <aside>
    <h2>Catálogo Fenari</h2>
    <div class="filtro">
      <input type="text" id="pesquisa" placeholder="Buscar produto..." oninput="filtrarProdutos()" />
    </div>
  </aside>
  <div class="main">
    <header>
      <button class="modo-btn" onclick="alternarModo()">Modo: Atacado</button>
    </header>
    <section class="produtos" id="produtos"></section>
    <div class="pagamento">
      <label>Forma de Pagamento:</label><br>
      <input type="radio" name="pagamento" value="Pix" checked> Pix
      <input type="radio" name="pagamento" value="Cartão de Crédito"> Cartão de Crédito
    </div>
    <div class="carrinho">
      <button class="finalizar" onclick="finalizarPedido()">Finalizar Pedido no WhatsApp</button>
    </div>
  </div>

  <script>
    let modo = 'atacado';
    let carrinho = [];

    const produtos = [
      { nome: 'Conjunto Luxo', precoAtacado: 39.90, imagem: 'https://via.placeholder.com/300', tamanhos: ['S', 'M', 'G'] },
      { nome: 'Calcinha Rendada', precoAtacado: 12.50, imagem: 'https://via.placeholder.com/300', tamanhos: ['P', 'M', 'G', 'GG'] },
      { nome: 'Body Transparente', precoAtacado: 45.00, imagem: 'https://via.placeholder.com/300', tamanhos: ['M', 'G', 'GG'] },
      { nome: 'Sutiã Conforto', precoAtacado: 29.90, imagem: 'https://via.placeholder.com/300', tamanhos: ['P', 'M', 'G'] }
    ];

    function alternarModo() {
      modo = modo === 'atacado' ? 'varejo' : 'atacado';
      document.querySelector('.modo-btn').textContent = `Modo: ${modo === 'atacado' ? 'Atacado' : 'Varejo'}`;
      renderizarProdutos();
    }

    function renderizarProdutos(filtro = '') {
      const container = document.getElementById('produtos');
      container.innerHTML = '';

      produtos.filter(p => p.nome.toLowerCase().includes(filtro.toLowerCase())).forEach((produto, index) => {
        const preco = modo === 'atacado' ? produto.precoAtacado : produto.precoAtacado * 2;
        let tamanhosHtml = produto.tamanhos.map(t => `
          <label>${t}
            <input type="number" min="0" value="0" class="qtd-input" id="prod-${index}-tam-${t}" />
          </label><br>
        `).join('');

        container.innerHTML += `
          <div class="produto">
            <img src="${produto.imagem}" alt="${produto.nome}" />
            <h3>${produto.nome}</h3>
            <p class="preco">R$ ${preco.toFixed(2)}</p>
            <p>Tamanhos:</p>
            ${tamanhosHtml}
            <button class="btn-pedir" onclick="adicionarCarrinho(${index})">Adicionar ao Carrinho</button>
          </div>
        `;
      });
    }

    function adicionarCarrinho(index) {
      const produto = produtos[index];
      const preco = modo === 'atacado' ? produto.precoAtacado : produto.precoAtacado * 2;
      const item = { nome: produto.nome, preco: preco, tamanhos: [] };

      produto.tamanhos.forEach(t => {
        const qtd = parseInt(document.getElementById(`prod-${index}-tam-${t}`).value);
        if (qtd > 0) item.tamanhos.push({ tamanho: t, qtd });
      });

      if (item.tamanhos.length > 0) {
        carrinho.push(item);
        alert('Produto adicionado ao carrinho!');
      } else {
        alert('Informe ao menos uma quantidade para adicionar ao carrinho.');
      }
    }

    function finalizarPedido() {
      const formaPagamento = document.querySelector('input[name="pagamento"]:checked').value;
      let mensagem = `*Pedido Fenari*%0AForma de pagamento: ${formaPagamento}%0A`;
      let total = 0;

      carrinho.forEach(item => {
        mensagem += `\nProduto: ${item.nome}\n`;
        item.tamanhos.forEach(t => {
          mensagem += `Tamanho: ${t.tamanho} - Qtd: ${t.qtd}\n`;
          total += item.preco * t.qtd;
        });
        mensagem += `Subtotal: R$ ${(item.preco * item.tamanhos.reduce((s, t) => s + t.qtd, 0)).toFixed(2)}\n`;
      });

      mensagem += `\n*Total: R$ ${total.toFixed(2)}*`;
      const link = `https://wa.me/?text=${encodeURIComponent(mensagem)}`;
      window.open(link, '_blank');
    }

    function filtrarProdutos() {
      const filtro = document.getElementById('pesquisa').value;
      renderizarProdutos(filtro);
    }

    renderizarProdutos();
  </script>
</body>
</html>
