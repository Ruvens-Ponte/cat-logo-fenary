<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Cat√°logo Fenari</title>
  <style>
    body { font-family: Arial, sans-serif; padding: 1rem; margin: 0; background: #f9f9f9; }
    header { display: flex; justify-content: space-between; align-items: center; flex-wrap: wrap; }
    .modo-btn, .carrinho-btn, .btn-pedir, .forma-pagamento-btn {
      padding: 0.5rem 1rem; background: black; color: white; border: none; cursor: pointer; border-radius: 8px; margin-top: 1rem; margin-right: 0.5rem;
    }
    .produtos { display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 1rem; margin-top: 1rem; }
    .produto { background: white; padding: 1rem; border-radius: 10px; box-shadow: 0 2px 8px rgba(0,0,0,0.1); }
    .produto img { width: 100%; border-radius: 8px; }
    .preco { font-weight: bold; margin: 0.5rem 0; }
    .tamanhos { display: flex; flex-direction: column; margin-bottom: 0.5rem; }
    .tamanhos label { margin: 0.2rem 0; }
    .controle { margin-top: 1rem; display: flex; justify-content: space-between; align-items: center; flex-wrap: wrap; }
  </style>
</head>
<body>
  <header>
    <h1>Cat√°logo Fenari</h1>
    <div class="controle">
      <button class="modo-btn" onclick="alternarModo()">Modo: Atacado</button>
      <button class="carrinho-btn" onclick="finalizarPedido()">üõí Finalizar Pedido</button>
    </div>
  </header>

  <section class="produtos" id="produtos"></section>

  <script>
    let modo = 'atacado';
    let carrinho = [];
    let formaPagamento = 'Pix';

    const produtos = [
      { nome: 'Conjunto Luxo', precoAtacado: 39.90, imagem: 'https://via.placeholder.com/300', tamanhos: ['S', 'M', 'G'] },
      { nome: 'Calcinha Rendada', precoAtacado: 12.50, imagem: 'https://via.placeholder.com/300', tamanhos: ['P', 'M', 'G', 'GG'] },
      { nome: 'Body Transparente', precoAtacado: 45.00, imagem: 'https://via.placeholder.com/300', tamanhos: ['M', 'G', 'GG'] },
      { nome: 'Suti√£ Conforto', precoAtacado: 29.90, imagem: 'https://via.placeholder.com/300', tamanhos: ['P', 'M', 'G'] }
    ];

    function alternarModo() {
      modo = modo === 'atacado' ? 'varejo' : 'atacado';
      document.querySelector('.modo-btn').textContent = `Modo: ${modo === 'atacado' ? 'Atacado' : 'Varejo'}`;
      renderizarProdutos();
    }

    function renderizarProdutos() {
      const container = document.getElementById('produtos');
      container.innerHTML = '';

      produtos.forEach((produto, index) => {
        const preco = modo === 'atacado' ? produto.precoAtacado : produto.precoAtacado * 2;
        let tamanhosHTML = '';
        produto.tamanhos.forEach(t => {
          tamanhosHTML += `
            <label>${t}: <input type="number" min="0" id="qtd-${index}-${t}" style="width: 50px;" /></label>
          `;
        });

        container.innerHTML += `
          <div class="produto">
            <img src="${produto.imagem}" alt="${produto.nome}" />
            <h3>${produto.nome}</h3>
            <p class="preco">R$ ${preco.toFixed(2)}</p>
            <div class="tamanhos">${tamanhosHTML}</div>
            <button class="btn-pedir" onclick="adicionarCarrinho(${index})">Adicionar ao carrinho</button>
          </div>
        `;
      });
    }

    function adicionarCarrinho(index) {
      const produto = produtos[index];
      const preco = modo === 'atacado' ? produto.precoAtacado : produto.precoAtacado * 2;
      let totalQuantidade = 0;
      let tamanhosSelecionados = {};

      produto.tamanhos.forEach(t => {
        const qtd = parseInt(document.getElementById(`qtd-${index}-${t}`).value || '0');
        if (qtd > 0) {
          tamanhosSelecionados[t] = qtd;
          totalQuantidade += qtd;
        }
      });

      if (totalQuantidade > 0) {
        carrinho.push({ nome: produto.nome, preco, tamanhos: tamanhosSelecionados });
        alert(`${produto.nome} adicionado ao carrinho.`);
      } else {
        alert('Selecione ao menos uma quantidade.');
      }
    }

    function selecionarFormaPagamento(tipo) {
      formaPagamento = tipo;
      alert(`Forma de pagamento: ${tipo}`);
    }

    function finalizarPedido() {
      if (carrinho.length === 0) {
        alert('Seu carrinho est√° vazio.');
        return;
      }

      let mensagem = 'Ol√°! Gostaria de fazer um pedido:%0A';
      let total = 0;
      carrinho.forEach(item => {
        mensagem += `%0A${item.nome} - R$ ${item.preco.toFixed(2)}`;
        for (const [tamanho, qtd] of Object.entries(item.tamanhos)) {
          mensagem += `%0A  Tamanho ${tamanho}: ${qtd}x`;
        }
        total += item.preco * Object.values(item.tamanhos).reduce((a, b) => a + b, 0);
      });
      mensagem += `%0A%0ATotal: R$ ${total.toFixed(2)}%0AForma de pagamento: ${formaPagamento}`;

      window.open(`https://wa.me/?text=${mensagem}`, '_blank');
    }

    renderizarProdutos();
  </script>

  <div style="margin-top: 2rem;">
    <p>Escolha a forma de pagamento:</p>
    <button class="forma-pagamento-btn" onclick="selecionarFormaPagamento('Pix')">Pix</button>
    <button class="forma-pagamento-btn" onclick="selecionarFormaPagamento('Cart√£o de Cr√©dito')">Cart√£o de Cr√©dito</button>
  </div>
</body>
</html>

